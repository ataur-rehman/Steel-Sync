const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/path-DU6r-80u.js","assets/index-CKM3Cf7l.js","assets/index-BWJGaml2.css"])))=>i.map(i=>d[i]);
import{_ as i}from"./index-CKM3Cf7l.js";let s=null,t=null;async function d(){if(s&&t)return{path:s,url:t};try{console.log("[SINGLE_DB] Getting Tauri backend database path...");const{appDataDir:a}=await i(async()=>{const{appDataDir:n}=await import("./path-DU6r-80u.js");return{appDataDir:n}},__vite__mapDeps([0,1,2])),{join:o}=await i(async()=>{const{join:n}=await import("./path-DU6r-80u.js");return{join:n}},__vite__mapDeps([0,1,2])),l=await a(),e=await o(l,"store.db"),r=`sqlite:${e}`;return s=e,t=r,console.log("[SINGLE_DB] Database path synchronized with Tauri backend:"),console.log(`[SINGLE_DB] Path: ${e}`),console.log(`[SINGLE_DB] URL: ${r}`),{path:e,url:r}}catch(a){console.error("[SINGLE_DB] CRITICAL: Cannot get Tauri backend database path:",a);const o=a instanceof Error?a.message:String(a);throw new Error(`CRITICAL: Cannot synchronize with Tauri backend database: ${o}`)}}function _(a){if(!t)throw new Error("CRITICAL: Single database path not initialized. Call getSingleDatabasePath() first.");if(a!==t)throw console.error("[SINGLE_DB] CRITICAL: Attempted to use wrong database path!"),console.error(`[SINGLE_DB] Expected: ${t}`),console.error(`[SINGLE_DB] Attempted: ${a}`),new Error("CRITICAL: Database path mismatch. This would create dual databases.");console.log("[SINGLE_DB] Database path validated - using single database")}export{d as getSingleDatabasePath,_ as validateSingleDatabasePath};
